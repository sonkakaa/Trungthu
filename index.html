<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Trung Thu</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      overflow: hidden;
      font-family: 'Poppins', sans-serif;
      background: black;
    }

    /* Màn hình chờ */
    #startScreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at center, #000000, #0d1b2a);
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-size: 28px;
      cursor: pointer;
      z-index: 9999;
    }

    /* Màn hình chính */
    #mainScreen {
      display: none;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at bottom, #0d1b2a, #000000);
      position: relative;
      overflow: hidden;
    }

    /* Canvas sao băng */
    #shootingCanvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 2;
      pointer-events: none;
    }

    /* Sao */
    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      opacity: 0.8;
    }

    /* Đèn lồng */
    .lantern {
      position: absolute;
      width: 45px;
      height: 60px;
      background: radial-gradient(circle at center, #ffeb99, #ff9900);
      border-radius: 60% 60% 45% 45%;
      box-shadow: 0 0 30px rgba(255, 150, 0, 0.9);
      animation: floatUp linear infinite;
      z-index: 3;
    }

    .lantern::after {
      content: "";
      position: absolute;
      bottom: -18px;
      left: 50%;
      width: 2px;
      height: 18px;
      background: #ff3300;
      transform: translateX(-50%);
      box-shadow: 
        -6px 4px 0 #ff3300,
        6px 4px 0 #ff3300,
        -3px 10px 0 #cc0000,
        3px 10px 0 #cc0000;
    }

    @keyframes floatUp {
      0% { transform: translateY(100vh) scale(1); opacity: 1; }
      80% { opacity: 1; }
      100% { transform: translateY(-200px) scale(1.1); opacity: 0; }
    }

    /* Mặt trăng */
    .moon {
      position: absolute;
      top: 80px;
      right: 120px;
      width: 100px;
      height: 100px;
      background: radial-gradient(circle, #ffffff, #dddddd);
      border-radius: 50%;
      box-shadow: 0 0 30px rgba(255, 247, 200, 0.8);
      z-index: 3;
    }

    /* Hộp chữ chạy */
    .message-box {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 600px;
      height: 50px;
      background: rgba(20, 20, 20, 0.6);
      padding: 15px;
      border-radius: 15px;
      border: 2px solid #ffae00;
      color: #fff;
      font-size: 20px;
      overflow: hidden;
      box-shadow: 0 0 20px #ff004c;
      text-align: center;
      z-index: 4;
    }

    .message-box p {
      display: inline-block;
      white-space: nowrap;
      animation: scrollText 30s linear infinite;
    }

    @keyframes scrollText {
      from { transform: translateX(100%); }
      to { transform: translateX(-100%); }
    }
  </style>
</head>
<body>

  <!-- Màn hình chờ -->
  <div id="startScreen">😘 Chạm vào màn hình để ăn trung thu cùng nhau nào 🥰✨ </div>

  <!-- Màn hình chính -->
  <div id="mainScreen">
    <audio id="backgroundMusic" src="assets/Trung Thu remix.mp3" loop></audio>
    <canvas id="shootingCanvas"></canvas>
    <div class="moon"></div>
    <div class="message-box">
      <p>🌕✨🥮🐰🌸🎉

"Nhân dịp Trung Thu, chúc bạn và gia đình có một đêm trăng thật đẹp, sum vầy ấm áp bên nhau. Mong rằng ánh trăng tròn sáng sẽ mang đến cho bạn nhiều niềm vui, may mắn và hạnh phúc. 🌕
Hãy tận hưởng hương vị ngọt ngào của bánh nướng, bánh dẻo 🥮, ngắm trăng rằm sáng tỏ ✨ và cùng nhau lưu giữ những khoảnh khắc đáng nhớ nhé! 🐰🎉💖"

🌕🥮✨🐰🎉💖</p>
    </div>
  </div>

  <script>
    // Khi click màn hình chờ
    document.getElementById("startScreen").addEventListener("click", () => {
      document.getElementById("startScreen").style.display = "none";
      document.getElementById("mainScreen").style.display = "block";

      const music = document.getElementById("backgroundMusic");
      music.play().catch(err => console.log("Không phát được nhạc:", err));

      // Tạo sao
      for (let i = 0; i < 120; i++) {
        let star = document.createElement("div");
        star.className = "star";
        let size = Math.random() * 2 + 1;
        star.style.width = star.style.height = size + "px";
        star.style.top = Math.random() * 100 + "%";
        star.style.left = Math.random() * 100 + "%";
        document.getElementById("mainScreen").appendChild(star);
      }

      // Sinh đèn lồng
      function createLantern() {
        let lantern = document.createElement("div");
        lantern.className = "lantern";
        lantern.style.left = Math.random() * 100 + "vw";
        lantern.style.animationDuration = (10 + Math.random() * 10) + "s";
        document.getElementById("mainScreen").appendChild(lantern);
        setTimeout(() => { lantern.remove(); }, 20000);
      }

      setInterval(() => {
        if (document.querySelectorAll(".lantern").length < 7) {
          createLantern();
        }
      }, 2500);

      // Hiệu ứng sao băng
      const canvas = document.getElementById("shootingCanvas");
      const ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      class ShootingStar {
        constructor() { this.reset(); }
        reset() {
          this.x = Math.random() * canvas.width * 0.5;
          this.y = -50;
          this.len = Math.random() * 80 + 30;
          this.speed = Math.random() * 8 + 5;
          this.size = 2;
          this.angle = Math.PI / 4; // 45 độ
        }
        update() {
          this.x += this.speed * Math.cos(this.angle);
          this.y += this.speed * Math.sin(this.angle);
          if (this.x > canvas.width || this.y > canvas.height) this.reset();
        }
        draw() {
          ctx.strokeStyle = "#FFDD88";
          ctx.lineWidth = this.size;
          ctx.beginPath();
          ctx.moveTo(this.x, this.y);
          ctx.lineTo(this.x - this.len * Math.cos(this.angle),
                     this.y - this.len * Math.sin(this.angle));
          ctx.stroke();
        }
      }

      let shootingStars = Array.from({ length: 5 }, () => new ShootingStar());

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        shootingStars.forEach(s => { s.update(); s.draw(); });
        requestAnimationFrame(animate);
      }
      animate();
    });
  </script>
</body>
</html>
